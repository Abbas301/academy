<div class="main ml-2 mr-2">
  <section>
      <div class="container-fluid">
          <div class="d-flex justify-content-between align-items-center">
              <div class="pl-3 margin">
                  <i class="fa fa-filter icon"></i><small class="header">On boarded Candidates List</small>
              </div>
              <div>
                  <span class="px-3">
                      <mat-form-field appearance="standard">
                          <input matInput (keyup)="applyFilter($event)" placeholder="search" #input>
                          <mat-icon matSuffix>search</mat-icon>
                      </mat-form-field>
                  </span>
                  <button type="button" class="btn creatbtn" data-toggle="modal" data-target="#exampleModal" data-whatever="@getbootstrap">Create Batch</button>
              </div>
          </div>

          <div class="tables">
              <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 ">

                  <!-- Checkbox Column -->
                  <ng-container matColumnDef="select">
                      <th mat-header-cell *matHeaderCellDef>
                          <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()" [indeterminate]="selection.hasValue() && !isAllSelected()" [aria-label]="checkboxLabel()">
                          </mat-checkbox>
                      </th>
                      <td mat-cell *matCellDef="let row">
                          <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)" [aria-label]="checkboxLabel(row)">
                          </mat-checkbox>
                      </td>
                  </ng-container>

                  <!-- Name Column -->
                  <ng-container matColumnDef="name">
                      <th mat-header-cell *matHeaderCellDef> Name </th>
                      <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                  </ng-container>

                  <!-- Contact No. Column -->
                  <ng-container matColumnDef="contact">
                      <th mat-header-cell *matHeaderCellDef> Contact No. </th>
                      <td mat-cell *matCellDef="let element"> {{element.contact}} </td>
                  </ng-container>

                  <!-- Mail ID Column -->
                  <ng-container matColumnDef="mail">
                      <th mat-header-cell *matHeaderCellDef> Mail ID </th>
                      <td mat-cell *matCellDef="let element"> {{element.mail}} </td>
                  </ng-container>

                  <!-- Degree Column -->
                  <ng-container matColumnDef="degree">
                      <th mat-header-cell *matHeaderCellDef> Degree </th>
                      <td mat-cell *matCellDef="let element"> {{element.degree}} </td>
                  </ng-container>
                  <!-- Stream Column -->
                  <ng-container matColumnDef="stream">
                      <th mat-header-cell *matHeaderCellDef> Stream </th>
                      <td mat-cell *matCellDef="let element"> {{element.stream}} </td>
                  </ng-container>

                  <!-- YOP Column -->
                  <ng-container matColumnDef="yop">
                      <th mat-header-cell *matHeaderCellDef> YOP </th>
                      <td mat-cell *matCellDef="let element"> {{element.yop}} </td>
                  </ng-container>
                  <!--  Degree Aggregate % Column -->
                  <ng-container matColumnDef="aggregate">
                      <th mat-header-cell *matHeaderCellDef> Degree Aggregate % </th>
                      <td mat-cell *matCellDef="let element"> {{element.aggregate}} </td>
                  </ng-container>
                  <!-- Branch Column -->
                  <ng-container matColumnDef="branch">
                      <th mat-header-cell *matHeaderCellDef> Branch </th>
                      <td mat-cell *matCellDef="let element"> {{element.branch}} </td>
                  </ng-container>
                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)">
                  </tr>
              </table>
          </div>
      </div>
  </section>
  <!--  create-batch-- modal -->

  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" data-backdrop="static" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog  modal-dialog-centered" role="document">
          <div class="modal-content">
              <div class="modal-header">
                  <h2 class="modal-title" style="font-weight: 600;" id="exampleModalLabel">Add Batch</h2>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
              </div>
              <div class="modal-body">
                  <form action="" [formGroup]="batchForm" (ngSubmit)="onSubmit(batchForm)">

                      <div class="first" style="padding: 1%;">
                          <div class="row">
                              <div class="col-3">
                                  <mat-form-field appearance="standard">
                                      <mat-label>Location</mat-label>
                                      <mat-select formControlName="location">
                                          <mat-option *ngFor="let location of locations" [value]="location.value">
                                              {{location.viewValue}}
                                          </mat-option>
                                      </mat-select>
                                      <mat-error>This field is required</mat-error>
                                  </mat-form-field>
                              </div>
                              <div class="col-3">
                                  <mat-form-field appearance="standard">
                                      <mat-label>Technology</mat-label>
                                      <mat-select formControlName="technology">
                                          <mat-option *ngFor="let technology of technologies" [value]="technology.value">
                                              {{technology.viewValue}}
                                          </mat-option>
                                      </mat-select>
                                      <mat-error>This field is required</mat-error>
                                  </mat-form-field>
                              </div>
                              <div class="col-3">
                                  <mat-form-field appearance="standard">
                                      <mat-label>StartDate</mat-label>
                                      <input matInput [matDatepicker]="picker" formControlName="startDate">
                                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                      <mat-datepicker #picker></mat-datepicker>
                                      <mat-error *ngIf="contact?.errors?.required">This field is required</mat-error>
                                  </mat-form-field>
                              </div>
                              <div class="col-3">
                                  <div class="row">
                                      <div class="col-7 upload">
                                          <input type="file" #tocfile style="display:none" formControlName="toc">
                                          <button class="btn btn-color batch mt-1" (click)="tocfile.click()">UploadTOC</button>
                                      </div>
                                      <div class="col-5 mt-4 file"><a routerLink="">FileName.jpg</a></div>
                                  </div>
                              </div>
                          </div>
                          <div class="row">
                              <div class="col-3">
                                  <mat-form-field class="matFirst" appearance="standard">
                                      <mat-label>Ty Mentor</mat-label>
                                      <mat-select formControlName="tyMentor" multiple>
                                          <mat-option *ngFor="let mentor of tyMentor" [value]="mentor.value">
                                              {{mentor.viewValue}}
                                          </mat-option>
                                      </mat-select>
                                      <mat-error>This field is required</mat-error>
                                  </mat-form-field>
                              </div>
                          </div>
                      </div>


                      <div class="p-3 first">
                          <h3 style="font-weight: 600;">Client Mentors</h3>
                          <div formArrayName="mentors" *ngFor="let item of mentor.controls; let i = index;">
                              <div [formGroupName]="i">
                                  <div class="row">
                                      <div class="col-3">
                                          <mat-form-field appearance="standard">
                                              <input matInput class="hover" type="search" placeholder="Name" formControlName="name">
                                              <mat-error>This field is required</mat-error>
                                          </mat-form-field>
                                      </div>
                                      <div class="col-3">
                                          <mat-form-field appearance="standard">
                                              <input matInput class="hover" type="search" placeholder="Designation" formControlName="designation">
                                              <mat-error>This field is required</mat-error>
                                          </mat-form-field>
                                      </div>
                                      <div class="col-3">
                                          <mat-form-field appearance="standard">
                                              <input matInput class="hover" type="search" placeholder="Contact No" formControlName="contact">
                                              <mat-error *ngIf="contact?.errors?.required">This field is required</mat-error>
                                              <mat-error *ngIf="contact?.errors?.pattern">enter a valid mobile number</mat-error>
                                          </mat-form-field>
                                      </div>
                                      <div class="col-3 aliq">
                                          <div>
                                              <mat-form-field appearance="standard">
                                                  <input matInput class="hover" type="search" placeholder="Email Id" formControlName="Memail">
                                                  <mat-error>This field is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <div>
                                              <mat-icon class="mt-3" (click)="addMentor()">add_circle</mat-icon>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>


                      <div class="p-3 first">
                          <h3 style="font-weight: 600;">Assign Trainers</h3>
                          <mat-radio-group aria-label="Select an option ">
                              <mat-radio-button value="yes" (click)="trainersForm()">Assign Trainers</mat-radio-button>
                              <mat-radio-button value="no" (click)="trainersExcel()">Assign Trainers</mat-radio-button>
                          </mat-radio-group>
                          <div *ngIf="trainerForm">
                              <div formArrayName="trainers" *ngFor="let item of trainer.controls; let i = index;">
                                  <div [formGroupName]="i">
                                      <div class="row">
                                          <div class="col-3">
                                              <mat-form-field appearance="standard">
                                                  <input matInput class="hover" type="search" placeholder="Name" formControlName="trainerName">
                                                  <mat-error>This field is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <div class="col-3">
                                              <mat-form-field appearance="standard">
                                                  <mat-label>Technology</mat-label>
                                                  <mat-select formControlName="technology">
                                                      <mat-option *ngFor="let technology of technologies" [value]="technology.value">
                                                          {{technology.viewValue}}
                                                      </mat-option>
                                                  </mat-select>
                                                  <mat-error>This field is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <div class="col-3">
                                              <mat-form-field appearance="standard">
                                                  <mat-label>Days</mat-label>
                                                  <mat-select formControlName="days">
                                                      <mat-option *ngFor="let day of days" [value]="day.value">
                                                          {{day.viewValue}}
                                                      </mat-option>
                                                  </mat-select>
                                                  <mat-error>This field is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <div class="col-3 aliq">
                                              <div>
                                                  <mat-form-field appearance="standard">
                                                      <input matInput class="hover" type="search" placeholder="Email Id" formControlName="Temail">
                                                      <mat-error>This field is required</mat-error>
                                                  </mat-form-field>
                                              </div>
                                              <div>
                                                  <mat-icon class="mt-3" (click)="addTrainer()">add_circle</mat-icon>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                          <!-- excel form -->
                          <div *ngIf="trainerExcel">
                              <input type="file" #excelfile style="display:none" formControlName="trainerxl">
                              <button class="btn border-secondary uploadButton px-3 ml-3" (click)="excelfile.click()">Upload XL
                  <mat-icon>cloud_upload</mat-icon></button>
                              <span>uploaded filename.jpg....</span>
                          </div>
                      </div>
                      <div class="modal-footer">
                          <button type="button" class="btn btn-light" (click)="resetForm()">reset</button>
                          <button type="submit" class="btn btn-color batch">Create</button>
                      </div>
                  </form>

              </div>
          </div>
      </div>
  </div>
</div>
